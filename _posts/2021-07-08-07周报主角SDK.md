---
layout: post
title: 202107第二周广告SDK
subtitle: 主要是围绕广告SDK展开
image: /img/lifedoc/jijiji.jpg
tags: [周报]
---

### 总结SDK都使用了那些模式

**代理模式**：在策略哪里使用了，因为这里要记录某些adid的广告的展示次数和时间

**拦截器模式**：这个可太多了，策略拦截访问，解析数据拦截数据然后收集数据

**Builder模式**：这个是参数的配置到时候需要这个构造对应的方法，同时使用kotlin的DSL特性去实现

**策略模式**：重试策略处境频率那么高，怎么忘了他。

**工厂模式**：使用工厂出产生对应的processor和transfer

### 0708 肝广告SDK

如果你声明为 internal，它会在相同模块内随处可见

使用类似包访问权限的，在模块内可见，这时候就让大家只能访问到entry就可以了。

今日目标，完成SDK所有类的新增，添加数据转换模块，手动的，这个比较灵活因为全部是自己写的，到时候改起来也快。还能再次完善一下数据解析的架子。

```kotlin
// 使用reified配合inline做数据泛型的反擦除，主要原理是解析的时候有reified的标记会存起来原来的变量，Java其实也可以，不然我的泛型也木得用了，相当于kotlin给我的糖吧。爱吃。
inline fun <reified T : ADData> getData() : T?
```



